
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../f_publicacion_proyecto/">
      
      
        <link rel="next" href="../B0_GuiaAlumno/">
      
      
      <link rel="icon" href="../assets/stucom.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Ejemplo de Unity Transport - M09-UNITY</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#unity-transport" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="M09-UNITY" class="md-header__button md-logo" aria-label="M09-UNITY" data-md-component="logo">
      
  <img src="../assets/stucom.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            M09-UNITY
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Ejemplo de Unity Transport
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="M09-UNITY" class="md-nav__button md-logo" aria-label="M09-UNITY" data-md-component="logo">
      
  <img src="../assets/stucom.png" alt="logo">

    </a>
    M09-UNITY
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Indice
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    GET-POST
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            GET-POST
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../t_getpost/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Teoria GetPost
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p_getpost/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica GetPost
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c_publicacion_proyecto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica Publicación Juego
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c_publicacion_bbdd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    BBDD Publicación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../f_publicacion_proyecto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Formato entrega
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    TRANSPORT
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            TRANSPORT
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Ejemplo de Unity Transport
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Ejemplo de Unity Transport
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#esquema-general" class="md-nav__link">
    <span class="md-ellipsis">
      Esquema general
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#archivos-base" class="md-nav__link">
    <span class="md-ellipsis">
      📁 ARCHIVOS BASE
    </span>
  </a>
  
    <nav class="md-nav" aria-label="📁 ARCHIVOS BASE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crossplayserverbehaviourcs-servidor" class="md-nav__link">
    <span class="md-ellipsis">
      CrossPlayServerBehaviour.cs – Servidor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CrossPlayServerBehaviour.cs – Servidor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flujo-del-servidor" class="md-nav__link">
    <span class="md-ellipsis">
      Flujo del servidor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#udpclientbehaviourcs-cliente-udp" class="md-nav__link">
    <span class="md-ellipsis">
      UDPClientBehaviour.cs – Cliente UDP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UDPClientBehaviour.cs – Cliente UDP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flujo" class="md-nav__link">
    <span class="md-ellipsis">
      Flujo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#websocketclientbehaviourcs-cliente-websocket" class="md-nav__link">
    <span class="md-ellipsis">
      WebSocketClientBehaviour.cs – Cliente WebSocket
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebSocketClientBehaviour.cs – Cliente WebSocket">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flujo_1" class="md-nav__link">
    <span class="md-ellipsis">
      Flujo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conceptos-clave" class="md-nav__link">
    <span class="md-ellipsis">
      CONCEPTOS CLAVE
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CONCEPTOS CLAVE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#udp" class="md-nav__link">
    <span class="md-ellipsis">
      UDP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UDP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#explicacion-de-udp" class="md-nav__link">
    <span class="md-ellipsis">
      Explicación de UDP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusión
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#websocket" class="md-nav__link">
    <span class="md-ellipsis">
      WEBSOCKET
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WEBSOCKET">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#websocket_1" class="md-nav__link">
    <span class="md-ellipsis">
      WebSocket
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion_1" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusión
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Entrega práctica
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Entrega práctica
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../B0_GuiaAlumno/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guía general
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../B01_NodeJs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instalacion NodeJs+WebSockets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../B1_Chat_UDP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chat con UDP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../B2_WebSocket/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chat con WebSocket
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../B3_Salas_multimedia/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Salas Multimedia
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../B4_Streaming_proyecto_final/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Streaming
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#esquema-general" class="md-nav__link">
    <span class="md-ellipsis">
      Esquema general
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#archivos-base" class="md-nav__link">
    <span class="md-ellipsis">
      📁 ARCHIVOS BASE
    </span>
  </a>
  
    <nav class="md-nav" aria-label="📁 ARCHIVOS BASE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crossplayserverbehaviourcs-servidor" class="md-nav__link">
    <span class="md-ellipsis">
      CrossPlayServerBehaviour.cs – Servidor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CrossPlayServerBehaviour.cs – Servidor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flujo-del-servidor" class="md-nav__link">
    <span class="md-ellipsis">
      Flujo del servidor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#udpclientbehaviourcs-cliente-udp" class="md-nav__link">
    <span class="md-ellipsis">
      UDPClientBehaviour.cs – Cliente UDP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UDPClientBehaviour.cs – Cliente UDP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flujo" class="md-nav__link">
    <span class="md-ellipsis">
      Flujo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#websocketclientbehaviourcs-cliente-websocket" class="md-nav__link">
    <span class="md-ellipsis">
      WebSocketClientBehaviour.cs – Cliente WebSocket
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebSocketClientBehaviour.cs – Cliente WebSocket">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flujo_1" class="md-nav__link">
    <span class="md-ellipsis">
      Flujo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conceptos-clave" class="md-nav__link">
    <span class="md-ellipsis">
      CONCEPTOS CLAVE
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CONCEPTOS CLAVE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#udp" class="md-nav__link">
    <span class="md-ellipsis">
      UDP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UDP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#explicacion-de-udp" class="md-nav__link">
    <span class="md-ellipsis">
      Explicación de UDP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusión
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#websocket" class="md-nav__link">
    <span class="md-ellipsis">
      WEBSOCKET
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WEBSOCKET">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#websocket_1" class="md-nav__link">
    <span class="md-ellipsis">
      WebSocket
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion_1" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusión
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="unity-transport">UNITY TRANSPORT<a class="headerlink" href="#unity-transport" title="Permanent link">#</a></h1>
<p><a href="https://docs.unity3d.com/Packages/com.unity.transport@2.5/manual/samples-usage.html">Como instalarlo</a></p>
<p>Este proyecto es un ejemplo de red usando <strong>Unity Transport</strong>. Su objetivo es mostrar cómo:</p>
<ul>
<li>Configurar el transporte</li>
<li>Establecer una conexión</li>
<li>Enviar datos</li>
<li>Recibir datos</li>
<li>Cerrar una conexión</li>
</ul>
<h2 id="esquema-general">Esquema general<a class="headerlink" href="#esquema-general" title="Permanent link">#</a></h2>
<p>Un cliente se conecta al servidor, le envía un número. El servidor le suma <strong>2</strong> y devuelve el resultado. El cliente, al recibir la respuesta, cierra la conexión.</p>
<pre class="mermaid"><code>flowchart TD
    A[Inicio del Servidor] --&gt; B[Crear Driver UDP y WebSocket]
    B --&gt; C[Enlazar al puerto 7777]
    C --&gt; D[Crear MultiNetworkDriver]
    D --&gt; E[Esperar conexiones entrantes]

    subgraph Cliente UDP
        U1[Inicio Cliente UDP] --&gt; U2[Crear Driver UDP]
        U2 --&gt; U3[Conectar a localhost:7777]
        U3 --&gt; U4[Conexión exitosa]
        U4 --&gt; U5[Enviar número 1]
        U5 --&gt; U6[Esperar respuesta del servidor]
        U6 --&gt; U7[Recibir número +2]
        U7 --&gt; U8[Desconectar]
    end

    subgraph Cliente WebSocket
        W1[Inicio Cliente WS] --&gt; W2[Crear Driver WebSocket]
        W2 --&gt; W3[Conectar a localhost:7777]
        W3 --&gt; W4[Conexión exitosa]
        W4 --&gt; W5[Enviar número 2]
        W5 --&gt; W6[Esperar respuesta del servidor]
        W6 --&gt; W7[Recibir número +2]
        W7 --&gt; W8[Desconectar]
    end

    E --&gt; S1[Servidor acepta conexión]
    S1 --&gt; S2[Recibe número del cliente]
    S2 --&gt; S3[Suma 2]
    S3 --&gt; S4[Envía número modificado al cliente]
    S4 --&gt; S5[Espera nuevos eventos]

    U5 --&gt;|Número 1| S2
    W5 --&gt;|Número 2| S2

    S4 --&gt; U7
    S4 --&gt; W7</code></pre>
<hr />
<h2 id="archivos-base">📁 ARCHIVOS BASE<a class="headerlink" href="#archivos-base" title="Permanent link">#</a></h2>
<h3 id="crossplayserverbehaviourcs-servidor"><code>CrossPlayServerBehaviour.cs</code> – Servidor<a class="headerlink" href="#crossplayserverbehaviourcs-servidor" title="Permanent link">#</a></h3>
<p>Este script representa el <strong>servidor</strong>, el cual acepta conexiones por <strong>UDP</strong> y <strong>WebSocket</strong> usando <code>MultiNetworkDriver</code>.</p>
<h4 id="flujo-del-servidor">Flujo del servidor<a class="headerlink" href="#flujo-del-servidor" title="Permanent link">#</a></h4>
<ol>
<li>Crea dos drivers: UDP y WebSocket.</li>
<li>Los enlaza al puerto <code>7777</code>.</li>
<li>Los agrega al <code>MultiNetworkDriver</code>.</li>
<li>En cada frame:</li>
<li>Acepta nuevas conexiones.</li>
<li>Procesa eventos de cada conexión:<ul>
<li>Si recibe datos: suma 2 y responde.</li>
<li>Si el cliente se desconecta, limpia la conexión.</li>
</ul>
</li>
</ol>
<hr />
<h3 id="udpclientbehaviourcs-cliente-udp"><code>UDPClientBehaviour.cs</code> – Cliente UDP<a class="headerlink" href="#udpclientbehaviourcs-cliente-udp" title="Permanent link">#</a></h3>
<p>Cliente que usa <strong>UDP</strong> para conectarse al servidor y enviar el número <code>1</code>.</p>
<h4 id="flujo">Flujo<a class="headerlink" href="#flujo" title="Permanent link">#</a></h4>
<ol>
<li>Crea un driver UDP.</li>
<li>Se conecta a <code>localhost:7777</code>.</li>
<li>Envía el número <code>1</code>.</li>
<li>Espera respuesta:</li>
<li>Recibe el número <code>3</code>.</li>
<li>Se desconecta.</li>
</ol>
<hr />
<h3 id="websocketclientbehaviourcs-cliente-websocket"><code>WebSocketClientBehaviour.cs</code> – Cliente WebSocket<a class="headerlink" href="#websocketclientbehaviourcs-cliente-websocket" title="Permanent link">#</a></h3>
<p>Cliente que usa <strong>WebSocket</strong> y envía el número <code>2</code>.</p>
<h4 id="flujo_1">Flujo<a class="headerlink" href="#flujo_1" title="Permanent link">#</a></h4>
<ol>
<li>Crea un driver WebSocket.</li>
<li>Se conecta a <code>localhost:7777</code>.</li>
<li>Envía el número <code>2</code>.</li>
<li>Espera respuesta:</li>
<li>Recibe el número <code>4</code>.</li>
<li>Se desconecta.</li>
</ol>
<hr />
<h2 id="conceptos-clave">CONCEPTOS CLAVE<a class="headerlink" href="#conceptos-clave" title="Permanent link">#</a></h2>
<h3 id="udp">UDP<a class="headerlink" href="#udp" title="Permanent link">#</a></h3>
<p>UDP (User Datagram Protocol) es un protocolo de comunicación sin conexión, ligero y rápido, que forma parte de la capa de transporte del modelo OSI. A diferencia de TCP, UDP no establece una conexión confiable antes de enviar los datos y no garantiza la entrega ni el orden de los paquetes. Es utilizado principalmente cuando la velocidad es más importante que la fiabilidad, como en transmisiones de video en tiempo real o juegos en línea.</p>
<p>A continuación te presento un <strong>esquema simple usando Mermaid</strong> que ilustra el proceso básico de envío de datos con UDP:</p>
<pre class="mermaid"><code>sequenceDiagram
    participant A as Cliente
    participant B as Servidor
    Cliente-&gt;&gt;Servidor: Enviar datagrama UDP (sin conexión)
    Servidor--&gt;&gt;Cliente: Confirmación opcional (sin fiabilidad)
    Cliente-&gt;&gt;Servidor: Otro datagrama UDP (sin conexión)
    Servidor--&gt;&gt;Cliente: Respuesta opcional
    Note over Cliente,Servidor: El protocolo no garantiza la entrega ni el orden de los paquetes.</code></pre>
<h4 id="explicacion-de-udp">Explicación de UDP<a class="headerlink" href="#explicacion-de-udp" title="Permanent link">#</a></h4>
<ol>
<li>
<p><strong>Conexión no establecida</strong>: 
   UDP no establece una conexión antes de transmitir datos, lo que significa que no hay un proceso de "handshake" (apretón de manos) como en TCP. Simplemente, el cliente envía un datagrama (paquete de datos) al servidor.</p>
</li>
<li>
<p><strong>Envío de datagramas</strong>: 
   Los datos enviados mediante UDP se dividen en pequeñas unidades llamadas <em>datagramas</em>. Estos datagramas son enviados de forma independiente y pueden tomar diferentes rutas para llegar al destino.</p>
</li>
<li>
<p><strong>Sin confirmación</strong>: 
   No hay confirmación explícita de que los datagramas hayan llegado al destino o si han llegado en el orden correcto. Esto significa que los datos pueden llegar duplicados, desordenados o incluso perderse durante el tránsito, sin que haya un mecanismo para retransmitirlos.</p>
</li>
<li>
<p><strong>Uso de UDP</strong>:
   UDP se utiliza cuando el protocolo de comunicación requiere baja latencia y es tolerante a la pérdida de datos. Algunos ejemplos incluyen:</p>
</li>
<li><strong>Streaming de audio o video en tiempo real</strong>: No importa tanto si algunos paquetes se pierden, ya que el flujo continúa sin interrupciones.</li>
<li><strong>Juegos en línea</strong>: Las pérdidas de paquetes no afectan demasiado a la experiencia de juego, y la velocidad es crucial.</li>
<li>
<p><strong>DNS (Domain Name System)</strong>: Para la resolución de nombres de dominio, se necesita una respuesta rápida y no es vital garantizar que cada solicitud se entregue correctamente.</p>
</li>
<li>
<p><strong>Ventajas</strong>:</p>
</li>
<li><strong>Velocidad</strong>: Al no requerir la sobrecarga de establecimiento y mantenimiento de la conexión, UDP es más rápido que TCP.</li>
<li>
<p><strong>Simplicidad</strong>: UDP es un protocolo más simple y eficiente en términos de recursos.</p>
</li>
<li>
<p><strong>Desventajas</strong>:</p>
</li>
<li><strong>Fiabilidad</strong>: No hay mecanismos de control de flujo, control de congestión ni verificación de errores.</li>
<li><strong>Seguridad</strong>: Sin mecanismos de cifrado o autenticación de datos, UDP es más susceptible a ataques como el spoofing o el flooding.</li>
</ol>
<h4 id="conclusion">Conclusión<a class="headerlink" href="#conclusion" title="Permanent link">#</a></h4>
<p>UDP es un protocolo adecuado cuando la velocidad es esencial y se puede tolerar la pérdida ocasional de datos. Es ampliamente utilizado en aplicaciones donde la latencia debe ser mínima y la entrega confiable no es una prioridad principal.</p>
<p>Aquí tienes un <strong>esquema de WebSocket</strong> usando <strong>Mermaid</strong> y una explicación detallada de cómo funciona este protocolo:</p>
<h3 id="websocket">WEBSOCKET<a class="headerlink" href="#websocket" title="Permanent link">#</a></h3>
<pre class="mermaid"><code>sequenceDiagram
    participant A as Cliente
    participant B as Servidor
    Cliente-&gt;&gt;B: Solicitar conexión WebSocket (Handshaking HTTP)
    B-&gt;&gt;A: Responder con aceptación de conexión WebSocket
    Note over A,B: La conexión WebSocket está establecida.
    A-&gt;&gt;B: Enviar mensaje WebSocket (en tiempo real)
    B-&gt;&gt;A: Responder con mensaje WebSocket
    A-&gt;&gt;B: Enviar más mensajes WebSocket
    Note over A,B: Los mensajes continúan fluyendo en ambas direcciones.</code></pre>
<h4 id="websocket_1">WebSocket<a class="headerlink" href="#websocket_1" title="Permanent link">#</a></h4>
<p>WebSocket es un protocolo de comunicación full-duplex (bidireccional) que permite una comunicación persistente entre el cliente y el servidor, a diferencia de los tradicionales protocolos HTTP que son de una sola dirección (request-response). WebSocket se utiliza especialmente para aplicaciones que requieren actualizaciones en tiempo real, como chats en línea, juegos multijugador, aplicaciones financieras en vivo, entre otras.</p>
<ol>
<li><strong>Establecimiento de la conexión (Handshake)</strong>:
   WebSocket comienza como una solicitud HTTP. El cliente envía una solicitud de "handshake" al servidor para establecer la conexión WebSocket:</li>
<li>El cliente realiza una solicitud HTTP para abrir una conexión.</li>
<li>El servidor responde con una aceptación para proceder con la conexión WebSocket.</li>
</ol>
<p>Este proceso se parece a una solicitud de HTTP inicial, pero después de la aceptación del servidor, el protocolo cambia de HTTP a WebSocket.</p>
<ol>
<li>
<p><strong>Comunicación persistente</strong>:
   Una vez que la conexión está establecida, WebSocket mantiene una comunicación persistente entre el cliente y el servidor. Esto permite que ambos extremos envíen datos en cualquier momento sin la necesidad de realizar múltiples solicitudes HTTP. </p>
</li>
<li>
<p><strong>Envío de datos bidireccionales</strong>:
   La característica clave de WebSocket es su capacidad de enviar y recibir datos en tiempo real en ambas direcciones, lo que es ideal para aplicaciones interactivas. Por ejemplo:</p>
</li>
<li><strong>Cliente a servidor</strong>: El cliente puede enviar mensajes al servidor en cualquier momento.</li>
<li>
<p><strong>Servidor a cliente</strong>: El servidor puede notificar al cliente cuando ocurran eventos (por ejemplo, una actualización de estado, una nueva notificación, o nuevos datos).</p>
</li>
<li>
<p><strong>Ventajas de WebSocket</strong>:</p>
</li>
<li><strong>Baja latencia</strong>: Como la conexión se mantiene abierta, no hay necesidad de reabrir conexiones para cada mensaje, lo que reduce significativamente la latencia.</li>
<li><strong>Comunicación bidireccional en tiempo real</strong>: WebSocket es perfecto para aplicaciones que requieren una comunicación continua y de baja latencia entre el cliente y el servidor.</li>
<li>
<p><strong>Menor sobrecarga</strong>: A diferencia de HTTP, WebSocket no tiene la sobrecarga de abrir nuevas conexiones para cada mensaje, lo que reduce el consumo de recursos.</p>
</li>
<li>
<p><strong>Desventajas de WebSocket</strong>:</p>
</li>
<li><strong>Manejo de conexiones</strong>: Como WebSocket mantiene las conexiones abiertas, esto puede ser un desafío para los servidores si deben manejar un gran número de conexiones simultáneas.</li>
<li><strong>Compatibilidad de redes</strong>: Algunos cortafuegos o proxies pueden bloquear las conexiones WebSocket debido a que se basan en un puerto diferente al de HTTP/HTTPS (por defecto, el puerto 80 o 443).</li>
<li>
<p><strong>Seguridad</strong>: Al ser una conexión persistente, es fundamental que se utilicen mecanismos de cifrado (WSS, WebSocket Secure) para proteger los datos.</p>
</li>
<li>
<p><strong>Casos de uso de WebSocket</strong>:</p>
</li>
<li><strong>Aplicaciones de mensajería en tiempo real</strong>: Chats y mensajería instantánea donde los mensajes necesitan ser entregados de inmediato.</li>
<li><strong>Juegos en línea</strong>: Para enviar actualizaciones de estado de forma instantánea entre los jugadores y el servidor.</li>
<li><strong>Aplicaciones financieras y de bolsa</strong>: Para recibir actualizaciones de precios y transacciones en tiempo real.</li>
<li><strong>Notificaciones en vivo</strong>: Servicios que necesitan enviar notificaciones push en tiempo real a los usuarios.</li>
</ol>
<h4 id="conclusion_1">Conclusión<a class="headerlink" href="#conclusion_1" title="Permanent link">#</a></h4>
<p>WebSocket es un protocolo ideal para aplicaciones que requieren comunicación en tiempo real, baja latencia, y la capacidad de enviar datos bidireccionales. Aunque es muy eficiente para ciertos casos de uso, requiere una infraestructura adecuada para manejar conexiones persistentes y garantizar la seguridad.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>